{"version":3,"file":"index.js","sources":["../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/decorator/guard/after-before.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/decorator/guard/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/decorator/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/hash/time33.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/hash/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/adap/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/mixin/mixin.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/mixin/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/number/number.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/number/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/promise/await-promise.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/promise/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/string/url.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/string/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/js-core/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/siyuan/mergePluginPackage.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/siyuan/index.js","../../node_modules/.pnpm/@llej+js_util@1.0.10/node_modules/@llej/js_util/dist/src/index.js","../../src/libs/api.ts","../../src/expr/index.ts"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.run_before = exports.run_after = void 0;\n/** 函数运行之后，执行里面的回调函数,会将函数执行的值赋给他 */\nfunction run_after(f) {\n    return function name(target, propertyKey, descriptor) {\n        return Object.assign(Object.assign({}, descriptor), { value(...arg) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    const res = yield descriptor.value(...arg);\n                    yield f(res);\n                    return res;\n                });\n            } });\n    };\n}\nexports.run_after = run_after;\n/** 函数运行之前，执行里面的回调函数 */\nfunction run_before(f) {\n    return function name(target, propertyKey, descriptor) {\n        return Object.assign(Object.assign({}, descriptor), { value(...arg) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    yield f();\n                    const res = yield descriptor.value(...arg);\n                    return res;\n                });\n            } });\n    };\n}\nexports.run_before = run_before;\n//# sourceMappingURL=after-before.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./after-before\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.guard = void 0;\nconst guard = __importStar(require(\"./guard\"));\nexports.guard = guard;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hash_time33 = void 0;\n/**\n    A string hashing function based on Daniel J. Bernstein's popular 'times 33' hash algorithm.\n*/\nfunction hash_time33(text) {\n    let hash = 5381, index = text.length;\n    while (index) {\n        ///@ts-ignore\n        hash = (hash * 33) ^ text.codePointAt(--index);\n    }\n    return hash >>> 0;\n}\nexports.hash_time33 = hash_time33;\n//# sourceMappingURL=time33.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./time33\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.test = void 0;\n// export * from \"./cb-promise\";\nexports.test = 1;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.merge_obj = exports.applyMixins = void 0;\n/** mixin 多个对象的属性 */\nfunction applyMixins(derivedCtor, baseCtors) {\n    baseCtors.forEach(baseCtor => {\n        Object.getOwnPropertyNames(baseCtor.prototype).forEach(name => {\n            derivedCtor.prototype[name] = baseCtor.prototype[name];\n        });\n    });\n}\nexports.applyMixins = applyMixins;\n/** 创建一个新对象，然后将其他对象的属性都附加上去，后面的可能会覆盖掉前面的 */\nfunction merge_obj(...objs) {\n    let obj = {};\n    for (let i = 0; i < objs.length; i++) {\n        const el = objs[i];\n        if (el instanceof Object)\n            obj = Object.assign(Object.assign({}, obj), el);\n    }\n    return obj;\n}\nexports.merge_obj = merge_obj;\n//# sourceMappingURL=mixin.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./mixin\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.take_two_decimal_places = void 0;\n/** 取小数点后两位 */\nfunction take_two_decimal_places(num) {\n    return Number(num).toFixed(2);\n}\nexports.take_two_decimal_places = take_two_decimal_places;\n//# sourceMappingURL=number.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./number\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.awaitPromise = void 0;\n/** 包裹promise,然后回以回调 */\nfunction awaitPromise({ getPromise, \n/** 这里的也要描述类型？ */\nsucceed = (r) => { }, error = () => { }, end = () => { }, midway = () => { }, }) {\n    let running = false;\n    return function (...arg) {\n        if (running) {\n            midway();\n        }\n        else {\n            running = true;\n            const promise = getPromise.apply(this, arg);\n            promise\n                .then((r) => {\n                succeed(r);\n            })\n                .catch(error)\n                .finally(() => {\n                end();\n                running = false;\n            });\n        }\n    };\n}\nexports.awaitPromise = awaitPromise;\n//# sourceMappingURL=await-promise.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./await-promise\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._URL = void 0;\nclass _URL {\n    constructor(url) {\n        this.par_obj = _URL.getParameters(url);\n    }\n    /** 解析url中的参数 最少会返回一个{}对象 */\n    static getParameters(url_str) {\n        const url = decodeURIComponent(url_str);\n        let obj = url.match(/([^?=&]+)(=([^&]*))/g);\n        if (obj === null) {\n            return {};\n        }\n        const par = obj.reduce((a, v) => (a[v.slice(0, v.indexOf('='))] = v.slice(v.indexOf('=') + 1), a), {});\n        return par;\n    }\n    /** 获取对应key的值，没有的情况下返回空字符串 */\n    getValue(key) {\n        const value = this.par_obj[key];\n        if (value === undefined) {\n            return \"\";\n        }\n        return value;\n    }\n}\nexports._URL = _URL;\n//# sourceMappingURL=url.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./url\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.string = exports.promise = exports.number = exports.mixin = void 0;\nconst mixin = __importStar(require(\"./mixin\"));\nexports.mixin = mixin;\nconst number = __importStar(require(\"./number\"));\nexports.number = number;\nconst promise = __importStar(require(\"./promise\"));\nexports.promise = promise;\nconst string = __importStar(require(\"./string\"));\nexports.string = string;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergePluginPackage = void 0;\nfunction mergePluginPackage(pkg, plugin) {\n    return Object.assign(Object.assign({}, plugin), { version: pkg.version, name: pkg.name, url: pkg.repository, author: pkg.author });\n}\nexports.mergePluginPackage = mergePluginPackage;\n//# sourceMappingURL=mergePluginPackage.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindData = exports.mergePluginPackage = void 0;\nconst mergePluginPackage_1 = require(\"./mergePluginPackage\");\nObject.defineProperty(exports, \"mergePluginPackage\", { enumerable: true, get: function () { return mergePluginPackage_1.mergePluginPackage; } });\n/** 插件专用，用于管理 data 的类型 */\nfunction bindData(opt) {\n    const { that, storageName, initValue } = opt;\n    let _value = initValue;\n    const loadValue = () => __awaiter(this, void 0, void 0, function* () {\n        const value = yield that.loadData(storageName);\n        if (value !== \"\") {\n            _value = value;\n        }\n        return _value;\n    });\n    // 立刻一次加载执行\n    loadValue();\n    return {\n        /** 会执行 loadData 然后再返回结果*/\n        loadValue,\n        value: () => _value,\n        set(value) {\n            _value = value;\n            that.saveData(storageName, _value);\n        },\n    };\n}\nexports.bindData = bindData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.siyuan = exports.js_core = exports.adap = exports.hash = exports.decorator = void 0;\nconst decorator = __importStar(require(\"./decorator\"));\nexports.decorator = decorator;\nconst hash = __importStar(require(\"./hash\"));\nexports.hash = hash;\nconst adap = __importStar(require(\"./adap\"));\nexports.adap = adap;\nconst js_core = __importStar(require(\"./js-core\"));\nexports.js_core = js_core;\nconst siyuan = __importStar(require(\"./siyuan/\"));\nexports.siyuan = siyuan;\n//# sourceMappingURL=index.js.map","/**\n * Copyright (c) 2023 frostime. All rights reserved.\n * https://github.com/frostime/sy-plugin-template-vite\n *\n * See API Document in [API.md](https://github.com/siyuan-note/siyuan/blob/master/API.md)\n * API 文档见 [API_zh_CN.md](https://github.com/siyuan-note/siyuan/blob/master/API_zh_CN.md)\n */\n\nimport { fetchSyncPost, IWebSocketData } from \"siyuan\";\n\nasync function request(url: string, data: any) {\n  let response: IWebSocketData = await fetchSyncPost(url, data);\n  let res = response.code === 0 ? response.data : null;\n  return res;\n}\n\n// **************************************** Noteboook ****************************************\n\nexport async function lsNotebooks(): Promise<IReslsNotebooks> {\n  let url = \"/api/notebook/lsNotebooks\";\n  return request(url, \"\");\n}\n\nexport async function openNotebook(notebook: NotebookId) {\n  let url = \"/api/notebook/openNotebook\";\n  return request(url, { notebook: notebook });\n}\n\nexport async function closeNotebook(notebook: NotebookId) {\n  let url = \"/api/notebook/closeNotebook\";\n  return request(url, { notebook: notebook });\n}\n\nexport async function renameNotebook(notebook: NotebookId, name: string) {\n  let url = \"/api/notebook/renameNotebook\";\n  return request(url, { notebook: notebook, name: name });\n}\n\nexport async function createNotebook(name: string): Promise<Notebook> {\n  let url = \"/api/notebook/createNotebook\";\n  return request(url, { name: name });\n}\n\nexport async function removeNotebook(notebook: NotebookId) {\n  let url = \"/api/notebook/removeNotebook\";\n  return request(url, { notebook: notebook });\n}\n\nexport async function getNotebookConf(notebook: NotebookId): Promise<IResGetNotebookConf> {\n  let data = { notebook: notebook };\n  let url = \"/api/notebook/getNotebookConf\";\n  return request(url, data);\n}\n\nexport async function setNotebookConf(\n  notebook: NotebookId,\n  conf: NotebookConf,\n): Promise<NotebookConf> {\n  let data = { notebook: notebook, conf: conf };\n  let url = \"/api/notebook/setNotebookConf\";\n  return request(url, data);\n}\n\n// **************************************** File Tree ****************************************\nexport async function createDocWithMd(\n  notebook: NotebookId,\n  path: string,\n  markdown: string,\n): Promise<DocumentId> {\n  let data = {\n    notebook: notebook,\n    path: path,\n    markdown: markdown,\n  };\n  let url = \"/api/filetree/createDocWithMd\";\n  return request(url, data);\n}\n\nexport async function renameDoc(\n  notebook: NotebookId,\n  path: string,\n  title: string,\n): Promise<DocumentId> {\n  let data = {\n    doc: notebook,\n    path: path,\n    title: title,\n  };\n  let url = \"/api/filetree/renameDoc\";\n  return request(url, data);\n}\n\nexport async function removeDoc(notebook: NotebookId, path: string) {\n  let data = {\n    notebook: notebook,\n    path: path,\n  };\n  let url = \"/api/filetree/removeDoc\";\n  return request(url, data);\n}\n\nexport async function moveDocs(fromPaths: string[], toNotebook: NotebookId, toPath: string) {\n  let data = {\n    fromPaths: fromPaths,\n    toNotebook: toNotebook,\n    toPath: toPath,\n  };\n  let url = \"/api/filetree/moveDocs\";\n  return request(url, data);\n}\n\nexport async function getHPathByPath(notebook: NotebookId, path: string): Promise<string> {\n  let data = {\n    notebook: notebook,\n    path: path,\n  };\n  let url = \"/api/filetree/getHPathByPath\";\n  return request(url, data);\n}\n\nexport async function getHPathByID(id: BlockId): Promise<string> {\n  let data = {\n    id: id,\n  };\n  let url = \"/api/filetree/getHPathByID\";\n  return request(url, data);\n}\n\n// **************************************** Asset Files ****************************************\n\nexport async function upload(assetsDirPath: string, files: string | Blob[]): Promise<IResUpload> {\n  let form = new FormData();\n  form.append(\"assetsDirPath\", assetsDirPath);\n  for (let file of files) {\n    form.append(\"file[]\", file);\n  }\n  let url = \"/api/asset/upload\";\n  return request(url, form);\n}\n\n// **************************************** Block ****************************************\ntype DataType = \"markdown\" | \"dom\";\nexport async function insertBlock(\n  dataType: DataType,\n  data: string,\n  nextID?: BlockId,\n  previousID?: BlockId,\n  parentID?: BlockId,\n): Promise<IResdoOperations[]> {\n  let payload = {\n    dataType: dataType,\n    data: data,\n    nextID: nextID,\n    previousID: previousID,\n    parentID: parentID,\n  };\n  let url = \"/api/block/insertBlock\";\n  return request(url, payload);\n}\n\nexport async function prependBlock(\n  dataType: DataType,\n  data: string,\n  parentID: BlockId | DocumentId,\n): Promise<IResdoOperations[]> {\n  let payload = {\n    dataType: dataType,\n    data: data,\n    parentID: parentID,\n  };\n  let url = \"/api/block/prependBlock\";\n  return request(url, payload);\n}\n\nexport async function appendBlock(\n  dataType: DataType,\n  data: string,\n  parentID: BlockId | DocumentId,\n): Promise<IResdoOperations[]> {\n  let payload = {\n    dataType: dataType,\n    data: data,\n    parentID: parentID,\n  };\n  let url = \"/api/block/appendBlock\";\n  return request(url, payload);\n}\n\nexport async function updateBlock(\n  dataType: DataType,\n  data: string,\n  id: BlockId,\n): Promise<IResdoOperations[]> {\n  let payload = {\n    dataType: dataType,\n    data: data,\n    id: id,\n  };\n  let url = \"/api/block/updateBlock\";\n  return request(url, payload);\n}\n\nexport async function deleteBlock(id: BlockId): Promise<IResdoOperations[]> {\n  let data = {\n    id: id,\n  };\n  let url = \"/api/block/deleteBlock\";\n  return request(url, data);\n}\n\nexport async function moveBlock(\n  id: BlockId,\n  previousID?: PreviousID,\n  parentID?: ParentID,\n): Promise<IResdoOperations[]> {\n  let data = {\n    id: id,\n    previousID: previousID,\n    parentID: parentID,\n  };\n  let url = \"/api/block/moveBlock\";\n  return request(url, data);\n}\n\nexport async function getBlockKramdown(id: BlockId): Promise<IResGetBlockKramdown> {\n  let data = {\n    id: id,\n  };\n  let url = \"/api/block/getBlockKramdown\";\n  return request(url, data);\n}\n\nexport async function getChildBlocks(id: BlockId): Promise<IResGetChildBlock[]> {\n  let data = {\n    id: id,\n  };\n  let url = \"/api/block/getChildBlocks\";\n  return request(url, data);\n}\n\nexport async function transferBlockRef(fromID: BlockId, toID: BlockId, refIDs: BlockId[]) {\n  let data = {\n    fromID: fromID,\n    toID: toID,\n    refIDs: refIDs,\n  };\n  let url = \"/api/block/transferBlockRef\";\n  return request(url, data);\n}\n\n// **************************************** Attributes ****************************************\nexport async function setBlockAttrs(id: BlockId, attrs: { [key: string]: string }) {\n  let data = {\n    id: id,\n    attrs: attrs,\n  };\n  let url = \"/api/attr/setBlockAttrs\";\n  return request(url, data);\n}\n\nexport async function getBlockAttrs(id: BlockId): Promise<{ [key: string]: string }> {\n  let data = {\n    id: id,\n  };\n  let url = \"/api/attr/getBlockAttrs\";\n  return request(url, data);\n}\n\n// **************************************** SQL ****************************************\n\nexport async function sql(sql: string): Promise<any[]> {\n  let sqldata = {\n    stmt: sql,\n  };\n  let url = \"/api/query/sql\";\n  return request(url, sqldata);\n}\n\nexport async function getBlockByID(blockId: string): Promise<Block> {\n  let sqlScript = `select * from blocks where id ='${blockId}'`;\n  let data = await sql(sqlScript);\n  return data[0];\n}\n\n// **************************************** Template ****************************************\n\nexport async function render(id: DocumentId, path: string): Promise<IResGetTemplates> {\n  let data = {\n    id: id,\n    path: path,\n  };\n  let url = \"/api/template/render\";\n  return request(url, data);\n}\n\nexport async function renderSprig(template: string): Promise<string> {\n  let url = \"/api/template/renderSprig\";\n  return request(url, { template: template });\n}\n\n// **************************************** File ****************************************\n\n/**\n * https://github.com/siyuan-note/siyuan/blob/master/API_zh_CN.md#%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6\n * \"/data/box_id/doc_id.sy\"\n */\nexport async function getFile(path: string): Promise<any> {\n  let data = {\n    path: path,\n  };\n  let url = \"/api/file/getFile\";\n  try {\n    let file = await fetchSyncPost(url, data);\n    return file;\n  } catch (error_msg) {\n    throw error_msg\n    console.log(\"[error_msg]\", error_msg);\n    return null;\n  }\n}\n\nexport async function putFile(path: string, isDir: boolean, file: any) {\n  let form = new FormData();\n  form.append(\"path\", path);\n  form.append(\"isDir\", isDir.toString());\n  // Copyright (c) 2023, terwer.\n  // https://github.com/terwer/siyuan-plugin-importer/blob/v1.4.1/src/api/kernel-api.ts\n  form.append(\"modTime\", Math.floor(Date.now() / 1000).toString());\n  form.append(\"file\", file);\n  let url = \"/api/file/putFile\";\n  return request(url, form);\n}\n\nexport async function removeFile(path: string) {\n  let data = {\n    path: path,\n  };\n  let url = \"/api/file/removeFile\";\n  return request(url, data);\n}\n\nexport async function readDir(path: string): Promise<IResReadDir> {\n  let data = {\n    path: path,\n  };\n  let url = \"/api/file/readDir\";\n  return request(url, data);\n}\n\n// **************************************** Export ****************************************\n\nexport async function exportMdContent(id: DocumentId): Promise<IResExportMdContent> {\n  let data = {\n    id: id,\n  };\n  let url = \"/api/export/exportMdContent\";\n  return request(url, data);\n}\n\nexport async function exportResources(paths: string[], name: string): Promise<IResExportResources> {\n  let data = {\n    paths: paths,\n    name: name,\n  };\n  let url = \"/api/export/exportResources\";\n  return request(url, data);\n}\n\n// **************************************** Convert ****************************************\n\nexport type PandocArgs = string;\nexport async function pandoc(args: PandocArgs[]) {\n  let data = {\n    args: args,\n  };\n  let url = \"/api/convert/pandoc\";\n  return request(url, data);\n}\n\n// **************************************** Notification ****************************************\n\n// /api/notification/pushMsg\n// {\n//     \"msg\": \"test\",\n//     \"timeout\": 7000\n//   }\nexport async function pushMsg(msg: string, timeout: number = 7000) {\n  let payload = {\n    msg: msg,\n    timeout: timeout,\n  };\n  let url = \"/api/notification/pushMsg\";\n  return request(url, payload);\n}\n\nexport async function pushErrMsg(msg: string, timeout: number = 7000) {\n  let payload = {\n    msg: msg,\n    timeout: timeout,\n  };\n  let url = \"/api/notification/pushErrMsg\";\n  return request(url, payload);\n}\n\n// **************************************** Network ****************************************\nexport async function forwardProxy(\n  url: string,\n  method: string = \"GET\",\n  payload: any = {},\n  headers: any[] = [],\n  timeout: number = 7000,\n  contentType: string = \"text/html\",\n): Promise<IResForwardProxy> {\n  let data = {\n    url: url,\n    method: method,\n    timeout: timeout,\n    contentType: contentType,\n    headers: headers,\n    payload: payload,\n  };\n  let url1 = \"/api/network/forwardProxy\";\n  return request(url1, data);\n}\n\n// **************************************** System ****************************************\n\nexport async function bootProgress(): Promise<IResBootProgress> {\n  return request(\"/api/system/bootProgress\", {});\n}\n\nexport async function version(): Promise<string> {\n  return request(\"/api/system/version\", {});\n}\n\nexport async function currentTime(): Promise<number> {\n  return request(\"/api/system/currentTime\", {});\n}\n\nexport async function insertLocalAssets(data: {\n  assetPaths: string[];\n  isUpload: boolean;\n  id: string;\n}): Promise<{\n  succMap: {\n    [assetFileName: string]: string;\n  };\n}> {\n  return request(\"/api/asset/insertLocalAssets\", data);\n}\n","import { Plugin } from \"siyuan\";\nimport \"./index.css\";\nimport { siyuan } from \"@llej/js_util\";\nimport { sql, updateBlock } from \"~/libs/api\";\n\n/** 用于控制插件属性显示 */\nconst pluginClassName = \"expr-plugin\";\nconst exprName = \"custom-expr\";\nconst exprValueName = \"custom-expr-value\";\n\ntype aliasAttribute = { [K in keyof attribute as `a_${K}`]: attribute[K] };\n/** 合并了block和attribute，其中attribute的属性key前面添加了`a_` */\ntype MergedBlock = aliasAttribute & Block;\n\nconst dev = console.log;\ndeclare global {\n  var expr: Expr;\n}\n\nexport default class Expr extends Plugin {\n  IntervalId = 0;\n  /** 主循环的间隔毫秒数 */\n  intervalMs = 1_000;\n  /** 控制sql相关 TODO 添加选项配置 */\n  intervalUpdateSql = siyuan.bindData({\n    initValue: true,\n    that: this,\n    storageName: \"intervalUpdateSql.json\",\n  });\n  /** 只更新这个时间戳以后的表达式 */\n  updated = siyuan.bindData({\n    initValue: 0,\n    that: this,\n    storageName: \"updated.json\",\n  });\n  /** 为 true 代表正在进行求值运算中 */\n  evalState = false;\n\n  async onload() {\n    console.log(\"[expr]\", this);\n\n    /** 注册Expr实例到全局变量 */\n    globalThis.expr = this;\n    this.onunloadFn.push(\n      () =>\n        //@ts-ignore\n        delete globalThis.expr,\n    );\n\n    // 切换页签时清空已计算的id数组来实现每次打开自动计算\n    this.eventBus.on(\"switch-protyle\", () => {\n      this.evalExprIDs = [];\n    });\n\n    /** 注册求值循环 */\n    this.IntervalId = setInterval(this.evalAllExpr.bind(this), this.intervalMs);\n    this.onunloadFn.push(() => clearInterval(this.IntervalId));\n\n    /** 在 body 上注册插件类名，用于控制样式的开关 */\n    document.body.classList.add(pluginClassName);\n    this.onunloadFn.push(() => document.body.classList.remove(pluginClassName));\n  }\n\n  /** 插件卸载时会执行此数组中的函数 */\n  onunloadFn = [] as (() => void)[];\n  async onunload() {\n    this.onunloadFn.forEach((fn) => fn());\n  }\n\n  /** 对所有表达式进行求值 */\n  async evalAllExpr() {\n    if (this.evalState) {\n      /** 只有上一轮求值计算进行完毕后才会开始新一轮计算 */\n      return;\n    }\n    const exprIDs = (\n      [...document.querySelectorAll(\"[custom-expr]\")].filter((el) => {\n        if (!(el instanceof HTMLElement)) {\n          return false;\n        }\n        if (el.dataset.nodeId && this.evalExprIDs.includes(el.dataset.nodeId)) {\n          // 已经求值过了的不在参加计算\n          return false;\n        }\n        return true;\n      }) as HTMLElement[]\n    ).map((el) => {\n      const id = el.dataset.nodeId as string;\n      return id;\n    });\n\n    // 当配置不根据update字段更新的时候，不进行求值\n    if (!this.intervalUpdateSql.value() && exprIDs.length === 0) {\n      return;\n    }\n\n    const exprIDsStr = exprIDs.map((id) => `\"${id}\"`).join(\",\");\n\n    try {\n      this.evalState = true;\n      const exprBlock = (await sql(\n        `SELECT b.*,a.id AS a_id,a.\"name\" AS a_name,a.\"value\" as a_value,a.\"type\" AS a_type,a.block_id AS a_block_id,a.root_id AS a_root_id,a.box AS a_box,a.\"path\" AS a_path\n      FROM blocks AS  b\n      INNER JOIN attributes AS a\n      ON b.id = a.block_id\n      WHERE\n          a.name = \"${exprName}\"\n        AND\n          (\n            ( b.id IN (${exprIDsStr}) )\n              OR\n            (CAST(b.updated AS INTEGER)  > ${this.updated.value()})\n          )\n      ORDER BY b.updated DESC;`,\n      )) as MergedBlock[] | null;\n\n      if (exprBlock && exprBlock.length > 0) {\n        await Promise.all(exprBlock.map(this.exprEval.bind(this)));\n      }\n    } catch (error) {\n      dev(\"求值错误\", error);\n    } finally {\n      this.evalState = false;\n    }\n  }\n  /** 记录计算完成的 id ，不再计算 */\n  evalExprIDs: string[] = [];\n  async exprEval(block: MergedBlock) {\n    const evalValue = await eval(block.a_value);\n\n    const updated = generateTimestamp();\n    if (Number(updated) > this.updated.value()) {\n      this.updated.set(Number(updated));\n    }\n    /** TODO,这里应该要考虑ial中不存在相关字段的情况，需要进行添加而非替换 更新块的update时间戳\n     * ial = `{: updated=\"20240604233920\" custom-expr=\"10-11+Math.random()+&quot;2&quot;\" custom-expr-value=\"-0.95897021536132312\" id=\"20240514180539-3zvaoab\" style=\"background-color: var(--b3-font-background4);\"} `\n     */\n    let newKramdownAttr = block.ial!;\n    if (/updated=\"\\d+\"/.test(newKramdownAttr)) {\n      newKramdownAttr = newKramdownAttr.replace(/updated=\"\\d+\"/, `updated=\"${updated}\"`);\n    } else {\n      newKramdownAttr = newKramdownAttr.replace(/}$/, ` updated=\"${updated}\"`);\n    }\n    const evalValue_string = String(evalValue);\n    if (/custom-expr-value=\".*?\"/.test(newKramdownAttr)) {\n      newKramdownAttr = newKramdownAttr.replace(\n        /custom-expr-value=\".*?\"/,\n        `custom-expr-value=\"${encodeHTML(evalValue_string)}\"`,\n      );\n    } else {\n      newKramdownAttr = newKramdownAttr.replace(\n        /}$/,\n        ` custom-expr-value=\"${encodeHTML(evalValue_string)}\"` + \"}\",\n      );\n    }\n    // custom-expr-value=\"-0.56273369360008952\"\n    /** 将求值结果更新到块文本 */\n    await updateBlock(\"markdown\", String(evalValue_string + \"\\n\" + newKramdownAttr), block.id);\n    dev(\"expr:\", block.id, block.a_value, evalValue);\n\n    this.evalExprIDs.push(block.id);\n  }\n}\n\nfunction generateTimestamp() {\n  const now = new Date();\n  return [\n    now.getFullYear(),\n    now.getMonth() + 1,\n    now.getDate(),\n    now.getHours(),\n    now.getMinutes(),\n    now.getSeconds(),\n  ]\n    .map((part) => part.toString().padStart(2, \"0\"))\n    .join(\"\");\n}\nfunction encodeHTML(str: string) {\n  return str.replace(/[&<>\"'\\n]/g, function (match) {\n    return {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#39;\",\n      \"\\n\": \"_esc_newline_\",\n    }[match]!;\n  });\n}\n"],"names":["this","__createBinding","exports","require$$0","__setModuleDefault","__importStar","decorator","hash","adap","mixin","number","awaitPromise_1","promise","url","require$$1","require$$2","require$$3","mergePluginPackage_1","__awaiter","require$$4","sql","siyuan"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}